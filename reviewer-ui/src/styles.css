@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: dark;
  }

  body {
    @apply m-0 min-h-screen bg-abyss font-sans text-slate-100 antialiased;
    background-image: linear-gradient(180deg, rgba(2, 6, 23, 1) 0%, rgba(15, 23, 42, 0.9) 35%, rgba(15, 23, 42, 1) 100%);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-display;
  }
}

@layer components {
  .app-shell {
    @apply flex min-h-screen bg-cosmic-radial text-slate-100;
  }

  .app-sidebar {
    @apply sticky top-0 flex h-screen w-72 flex-col gap-6 overflow-y-auto border-r border-slate-800/60 bg-sidebar-glow p-8 shadow-inner-border transition-all duration-300 ease-in-out;
  }

  .app-sidebar.is-open {
    @apply translate-x-0;
  }

  .app-sidebar.is-collapsed {
    @apply w-20 px-4;
  }

  .app-sidebar__brand {
    @apply flex items-center gap-4 text-slate-200 no-underline;
  }

  .app-sidebar__brand-mark {
    @apply relative grid h-11 w-11 place-items-center rounded-xl bg-gradient-to-br from-aurora to-indigo-400 text-white shadow-glow-sm;
  }

  .app-sidebar__brand-mark::after {
    content: '';
    @apply absolute inset-1 rounded-lg border border-white/20 bg-white/5 backdrop-blur-[1px];
  }

  .app-sidebar__brand-logo {
    @apply relative z-10 h-7 w-7 drop-shadow-[0_8px_18px_rgba(0,0,0,0.45)];
  }

  .app-sidebar__brand-text {
    @apply flex flex-col;
  }

  .app-sidebar__brand-title {
    @apply text-base font-semibold tracking-wide;
  }

  .app-sidebar__brand-subtitle {
    @apply text-xs text-slate-400;
  }

  .app-sidebar__nav {
    @apply flex flex-1 flex-col gap-2;
  }

  .app-nav-link {
    @apply relative flex items-center gap-3 rounded-xl px-4 py-2 text-sm font-medium text-slate-300 transition duration-200 ease-out hover:text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-aurora;
  }

  .app-nav-link::before {
    @apply absolute inset-0 rounded-xl opacity-0 transition duration-200;
    content: '';
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.32), rgba(34, 211, 238, 0.22));
  }

  .app-nav-link:hover::before,
  .app-nav-link:focus-visible::before,
  .app-nav-link.active::before {
    @apply opacity-100;
  }

  .app-nav-link .app-nav-indicator {
    @apply h-2 w-2 rounded-full bg-slate-500 transition-all duration-200;
  }

  .app-nav-link.active .app-nav-indicator {
    @apply bg-white shadow-[0_0_0_6px_rgba(99,102,241,0.25)];
  }

  .app-nav-link .app-nav-label {
    @apply flex-1;
  }

  .app-nav-icon {
    @apply flex h-5 w-5 items-center justify-center text-slate-400 transition;
  }

  .app-nav-icon svg {
    @apply h-full w-full;
  }

  .app-nav-link:hover .app-nav-icon,
  .app-nav-link.active .app-nav-icon {
    @apply text-white;
  }

  .app-sidebar__footer {
    @apply text-xs leading-relaxed text-slate-400;
  }

  .app-sidebar__collapse-toggle {
    @apply hidden items-center justify-center gap-2 self-end rounded-full border border-slate-700/60 bg-slate-900/60 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-300 shadow-inner-border transition hover:border-slate-500 hover:text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-aurora lg:flex;
  }

  .app-sidebar.is-collapsed .app-sidebar__brand-text,
  .app-sidebar.is-collapsed .app-nav-label,
  .app-sidebar.is-collapsed .app-sidebar__footer {
    @apply hidden;
  }

  .app-sidebar.is-collapsed .app-nav-link {
    @apply justify-center;
  }

  .app-sidebar.is-collapsed .app-nav-indicator {
    @apply hidden;
  }

  .app-sidebar.is-collapsed .app-sidebar__brand {
    @apply justify-center;
  }

  .app-sidebar.is-collapsed .app-sidebar__collapse-toggle {
    @apply self-center;
  }

  .app-sidebar-overlay {
    @apply fixed inset-0 z-40 hidden bg-slate-950/70 backdrop-blur;
  }

  .app-sidebar-overlay.is-visible {
    @apply block;
  }

  .app-main {
    @apply flex flex-1 flex-col bg-cosmic-radial;
  }

  .app-header {
    @apply sticky top-0 z-30 flex flex-col gap-4 border-b border-slate-800/70 bg-nebula-panel px-6 py-6 backdrop-blur-lg md:flex-row md:items-center md:justify-between;
  }

  .app-header__titles {
    @apply flex flex-col gap-2;
  }

  .app-header__eyebrow {
    @apply text-xs uppercase tracking-[0.35em] text-slate-400;
  }

  .app-header__title {
    @apply text-3xl font-semibold text-white;
  }

  .app-header__subtitle {
    @apply max-w-xl text-sm text-slate-400;
  }

  .app-header__actions {
    @apply flex flex-col items-stretch gap-3 text-sm md:flex-row md:items-center;
  }

  .app-content {
    @apply flex-1 overflow-y-auto px-6 pb-16 pt-10;
  }

  .app-content__inner {
    @apply mx-auto flex max-w-6xl flex-col gap-8;
  }

  .app-toast-container {
    @apply fixed bottom-6 right-6 z-40 flex max-w-md flex-col gap-3;
  }

  .panel-card {
    @apply rounded-3xl border border-slate-800/60 bg-slate-900/60 p-6 shadow-inner-border transition hover:border-slate-700 hover:shadow-glow-md;
  }

  .panel-heading {
    @apply text-sm font-semibold uppercase tracking-[0.25em] text-slate-400;
  }

  .metric-value {
    @apply text-3xl font-semibold text-white;
  }

  .metric-subtitle {
    @apply text-xs text-slate-400;
  }

  .neon-button {
    @apply inline-flex items-center justify-center gap-2 rounded-full bg-gradient-to-r from-aurora to-indigo-500 px-5 py-2 text-sm font-semibold uppercase tracking-wide text-white shadow-glow-sm transition hover:shadow-glow-md focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-neon disabled:cursor-not-allowed disabled:opacity-50;
  }

  .button-primary {
    @apply neon-button;
  }

  .button-secondary {
    @apply inline-flex items-center justify-center gap-2 rounded-full border border-slate-700/60 bg-slate-900/70 px-5 py-2 text-sm font-semibold uppercase tracking-wide text-slate-200 shadow-inner-border transition hover:border-slate-500 hover:text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-aurora disabled:cursor-not-allowed disabled:opacity-50;
  }

  .button-danger {
    @apply inline-flex items-center justify-center gap-2 rounded-full border border-red-500/60 bg-red-500/10 px-5 py-2 text-sm font-semibold uppercase tracking-wide text-red-200 transition hover:border-red-400 hover:text-red-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-400 disabled:cursor-not-allowed disabled:opacity-50;
  }

  .surface-card {
    @apply rounded-3xl border border-slate-800/70 bg-slate-900/70 p-6 shadow-inner-border;
  }

  .surface-card--accent {
    @apply border-aurora/20 bg-aurora/5;
  }

  .data-table {
    @apply w-full table-auto overflow-hidden rounded-2xl border border-slate-800/60 text-sm;
  }

  .data-table thead {
    @apply bg-slate-900/70 text-slate-300;
  }

  .data-table tbody tr {
    @apply border-t border-slate-800/60 transition hover:bg-slate-900/80;
  }

  .badge-pill {
    @apply inline-flex items-center rounded-full border border-aurora/30 bg-aurora/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-aurora;
  }

  .form-input,
  textarea,
  input,
  select {
    @apply rounded-2xl border border-slate-800/70 bg-slate-950/70 px-4 py-3 text-sm text-slate-100 shadow-inner-border transition placeholder:text-slate-500 focus:border-aurora/60 focus:ring-2 focus:ring-aurora/40;
  }

  .form-input:-webkit-autofill,
  .form-input:-webkit-autofill:hover,
  .form-input:-webkit-autofill:focus {
    -webkit-text-fill-color: rgb(226 232 240);
    box-shadow: 0 0 0 1000px rgba(3, 7, 18, 0.9) inset;
    transition: background-color 9999s ease-in-out 0s;
  }

  .section-heading {
    @apply text-lg font-semibold text-white;
  }

  .empty-state {
    @apply rounded-3xl border border-dashed border-slate-700/80 bg-slate-900/60 p-8 text-center text-sm text-slate-400;
  }

  .app-header__badge {
    @apply inline-flex items-center rounded-full border border-slate-700/60 bg-slate-900/80 px-4 py-1 text-[0.65rem] font-semibold uppercase tracking-[0.35em] text-slate-300;
  }

  .app-header__select {
    @apply min-w-[12rem] rounded-2xl border border-slate-800/70 bg-slate-950/60 px-4 py-2 text-xs uppercase tracking-[0.3em] text-slate-300 shadow-inner-border focus:border-aurora/50 focus:outline-none focus:ring-2 focus:ring-aurora/30;
  }

  .app-header__button {
    @apply neon-button;
  }

  .app-sidebar-toggle {
    @apply inline-flex items-center rounded-full border border-slate-700/60 bg-slate-900/80 px-4 py-2 text-xs font-semibold uppercase tracking-[0.35em] text-slate-300 shadow-inner-border transition hover:border-slate-500 hover:text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-aurora;
  }

  .visually-hidden {
    @apply sr-only;
  }

  .data-table--striped tbody tr:nth-child(even) {
    @apply bg-slate-900/60;
  }

  .data-table--bordered {
    @apply border border-slate-800/60;
  }

  .data-table--hover tbody tr:hover {
    @apply bg-slate-900/80;
  }

  .data-table--compact td,
  .data-table--compact th {
    @apply px-3 py-2 text-sm;
  }

  .modal-backdrop {
    @apply fixed inset-0 z-50 flex items-center justify-center bg-slate-950/80 px-4 backdrop-blur;
  }

  .modal-panel {
    @apply w-full max-w-xl rounded-3xl border border-slate-800/80 bg-slate-900/90 p-6 shadow-glow-md;
  }

  .modal-title {
    @apply text-xl font-semibold text-white;
  }

  .modal-actions {
    @apply mt-6 flex justify-end gap-3;
  }

  .modal-close {
    @apply absolute right-4 top-4 text-slate-500 transition hover:text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-aurora;
  }
}
